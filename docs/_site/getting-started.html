<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/DAME-FLAME-Python-Package/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/DAME-FLAME-Python-Package/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/DAME-FLAME-Python-Package/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/DAME-FLAME-Python-Package/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Getting Started | AME Lab</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Getting Started" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Getting Started Here, we aim to get you launched" /> <meta property="og:description" content="Getting Started Here, we aim to get you launched" /> <link rel="canonical" href="http://localhost:4000/DAME-FLAME-Python-Package/getting-started" /> <meta property="og:url" content="http://localhost:4000/DAME-FLAME-Python-Package/getting-started" /> <meta property="og:site_name" content="AME Lab" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-11-02T15:10:49-06:00" /> <script type="application/ld+json"> {"@type":"BlogPosting","url":"http://localhost:4000/DAME-FLAME-Python-Package/getting-started","datePublished":"2020-11-02T15:10:49-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/DAME-FLAME-Python-Package/getting-started"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/DAME-FLAME-Python-Package/content/logos/logo.svg"}},"headline":"Getting Started","description":"Getting Started Here, we aim to get you launched","dateModified":"2020-11-02T15:10:49-06:00","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/DAME-FLAME-Python-Package/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">DAME-FLAME Python Package</div> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/DAME-FLAME-Python-Package/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="http://localhost:4000/DAME-FLAME-Python-Package/getting-started" class="nav-list-link active">Getting Started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation" class="nav-list-link">Documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/" class="nav-list-link">User Guide</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/Introduction" class="nav-list-link">Introduction to Causal Inference</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/to-match-or-not" class="nav-list-link">Whether to use Matching</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/data-requirements" class="nav-list-link">Discrete Observation Requirement</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/Getting-Matches" class="nav-list-link">Getting Matches</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/Treatment-Effects" class="nav-list-link">Treatment Effect Estimates</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/Algorithm-Controls" class="nav-list-link">Algorithm Controls</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/user-guide/Missing-Data" class="nav-list-link">Missing Data Handling</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/api-documentation/" class="nav-list-link">API Documentation</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/api-documentation/DAME" class="nav-list-link">DAME</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/api-documentation/FLAME" class="nav-list-link">FLAME</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/DAME-FLAME-Python-Package/documentation/api-documentation/post-processing" class="nav-list-link">Post Processing</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/DAME-FLAME-Python-Package/examples" class="nav-list-link">Examples</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/DAME-FLAME-Python-Package/examples/flame_vs_dame_quality/" class="nav-list-link">Comparing DAME and FLAME</a></li><li class="nav-list-item "><a href="http://localhost:4000/DAME-FLAME-Python-Package/examples/early_stopping/" class="nav-list-link">Benefit to Early Stopping</a></li><li class="nav-list-item "><a href="http://localhost:4000/DAME-FLAME-Python-Package/examples/interpretability/" class="nav-list-link">Interpreting Covariate Importance</a></li><li class="nav-list-item "><a href="http://localhost:4000/DAME-FLAME-Python-Package/examples/exact_matching/" class="nav-list-link">Exact Matching Only</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/DAME-FLAME-Python-Package/FAQ" class="nav-list-link">FAQ and Vocabulary Guide</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search AME Lab" aria-label="Search AME Lab" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/almost-matching-exactly" class="site-button" target="_blank" rel="noopener noreferrer" > GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="getting-started"> <a href="#getting-started" class="anchor-heading" aria-labelledby="getting-started"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting Started </h1> <p class="fs-6 fw-300">Here, we aim to get you launched</p> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#dependencies" id="markdown-toc-dependencies">Dependencies</a></li> <li><a href="#installation" id="markdown-toc-installation">Installation</a></li> <li><a href="#quickstart-example" id="markdown-toc-quickstart-example">Quickstart Example</a></li> </ol> </details> <h2 id="dependencies"> <a href="#dependencies" class="anchor-heading" aria-labelledby="dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dependencies </h2> <p>This package requires prior installation of</p> <ul> <li>Python (&gt;= 3.0)</li> <li>NumPy (&gt;= 1.17.5)</li> <li>Scikit-Learn (&gt;= 0.22.1))</li> <li>Pandas (todo: check)</li> </ul> <p>If your computer system does not have python 3.*, install from <a href="https://www.python.org/downloads/">here</a>.</p> <p>If your python version does not have the Pandas, Scikit learn, or Numpy packages, install from <a href="https://packaging.python.org/tutorials/installing-packages/">here</a></p> <h2 id="installation"> <a href="#installation" class="anchor-heading" aria-labelledby="installation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installation </h2> <p>The DAME-FLAME Python Package is available for download on the <a href="https://github.com/almost-matching-exactly/DAME-FLAME-Python-Package">almost-matching-exactly Github</a> or via PyPi (recommended):</p> <figure class="highlight"><pre><code class="language-markdown" data-lang="markdown">pip install dame-flame</code></pre></figure> <h2 id="quickstart-example"> <a href="#quickstart-example" class="anchor-heading" aria-labelledby="quickstart-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quickstart Example </h2> <p>We run the DAME function with the following basic command. In this example, we provide only the basic inputs: (1) input data as a dataframe or file, (2) the name of the outcome column, and (3) the name of the treatment column.</p> <p>In this example, because of the toy sized small dataset, we set the holdout dataset equal to the complete input dataset.</p> <div class="code-example"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">dame_flame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"dame_flame/data/sample.csv"</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">dame_flame</span><span class="p">.</span><span class="n">matching</span><span class="p">.</span><span class="n">DAME</span><span class="p">(</span><span class="n">repeats</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">early_stop_iterations</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">holdout_data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">input_data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1">#&gt;    x1   x2   x3   x4
#&gt; 0   0   1    1    *     
#&gt; 1   0   1    1    *     
#&gt; 2   1   0    *    1     
#&gt; 3   1   0    *    1     
</span><span class="k">print</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">groups_per_unit</span><span class="p">)</span>
<span class="c1">#&gt; 0    1.0
#&gt; 1    1.0
#&gt; 2    1.0
#&gt; 3    1.0
</span><span class="k">print</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">units_per_group</span><span class="p">)</span>
<span class="c1">#&gt; [[2, 3], [0, 1]]
</span></code></pre></div> </div> </div> <p>result is type <strong>Data Frame</strong>. The dataframe contains all of the units that were matched, and the covariates and corresponding values, that it was matched on. The covariates that each unit was not matched on is denoted with a “ * “ character.</p> <p>model.groups_per_unit is a <strong>Data Frame</strong> with a column of unit weights which specifies the number of groups that each unit was placed in.</p> <p>model.units_per_group is a <strong>list</strong> in which each list is a main matched group, and the unit ids that belong to that group.</p> <p>Additional values based on additional optional parameters can be retrieved, detailed in additional documentation below.</p> <p>To find the main matched group of a particular unit or group of units after DAME has been run, use the function <em>MG</em>:</p> <div class="code-example"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mmg</span> <span class="o">=</span> <span class="n">dame_flame</span><span class="p">.</span><span class="n">utils</span><span class="p">.</span><span class="n">post_processing</span><span class="p">.</span><span class="n">MG</span><span class="p">(</span><span class="n">matching_object</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">unit_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">mmg</span><span class="p">)</span>
<span class="c1">#&gt;      x1    x2    x3    x4    treated    outcome
#&gt; 0    0     1     1     *     0          5
#&gt; 1    0     1     1     *     1          6
</span></code></pre></div> </div> </div> <p>To find the conditional treatment effect (CATE) for the main matched group of a particular unit or group of units, use the function <em>CATE</em>:</p> <div class="code-example"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">te</span> <span class="o">=</span> <span class="n">dame_flame</span><span class="p">.</span><span class="n">utils</span><span class="p">.</span><span class="n">post_processing</span><span class="p">.</span><span class="n">CATE</span><span class="p">(</span><span class="n">matching_object</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">unit_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">te</span><span class="p">)</span>
<span class="c1">#&gt; 3.0
</span></code></pre></div> </div> </div> <p>To find the average treatment effect (ATE) or average treatment effect on the treated (ATT), use the functions <em>ATE</em> and <em>ATT</em>, respectively:</p> <div class="code-example"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ate</span> <span class="o">=</span> <span class="n">dame_flame</span><span class="p">.</span><span class="n">utils</span><span class="p">.</span><span class="n">post_processing</span><span class="p">.</span><span class="n">ATE</span><span class="p">(</span><span class="n">matching_object</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">ate</span><span class="p">)</span>
<span class="c1">#&gt; 2.0
</span><span class="n">att</span> <span class="o">=</span> <span class="n">dame_flame</span><span class="p">.</span><span class="n">utils</span><span class="p">.</span><span class="n">post_processing</span><span class="p">.</span><span class="n">MG</span><span class="p">(</span><span class="n">matching_object</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">att</span><span class="p">)</span>
<span class="c1">#&gt; 2.0
</span></code></pre></div> </div> </div> </div> </div> <div class="search-overlay"></div> </div> </body> </html> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true } }); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
